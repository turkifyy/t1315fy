<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحميل التطبيق</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Analytics for Download Tracking -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX'); // ضع Google Analytics ID هنا
    </script>

    <style>
        /* تصميم الصفحة بالكامل */
        body {
            font-family: 'Arial', sans-serif;
            background: white;
            text-align: center;
            direction: ltr; /* لضمان الاتجاه من اليسار إلى اليمين */
            margin: 0;
            padding: 0;
        }

        /* تصميم زر التحميل */
        .download-btn {
            display: inline-block;
            background: #FF5500; /* اللون الجديد للزر */
            color: white;
            font-size: 1.5em; /* حجم الخط النسبي */
            font-weight: bold;
            padding: 1.2em 2.5em; /* زيادة حجم الزر */
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            text-decoration: none;
            position: relative;
            overflow: hidden;
            white-space: nowrap; /* منع انكسار النص */
        }

        /* تأثير عند تمرير الفأرة */
        .download-btn:hover {
            background: #FF4500; /* لون أغمق قليلاً عند التمرير */
            transform: scale(1.05);
        }

        /* تأثير النقر على الزر */
        .download-btn:active {
            transform: scale(0.95);
        }

        /* زر ثابت في أسفل الشاشة مع خلفية بيضاء */
        .fixed-btn-container {
            position: fixed;
            bottom: -100px; /* مخفي في البداية */
            left: 0;
            width: 100%;
            background: white; /* خلفية بيضاء */
            padding: 1.5em 0; /* زيادة حجم الحاوية */
            z-index: 1000;
            text-align: center;
            transition: bottom 0.5s ease-in-out;
        }

        /* إظهار الزر عند التمرير لأسفل */
        .fixed-btn-container.visible {
            bottom: 0;
        }

        /* تحسين الزر للأجهزة الصغيرة */
        @media (max-width: 768px) {
            .download-btn {
                font-size: 1.2em; /* حجم أصغر للشاشات الصغيرة */
                padding: 1em 2em; /* padding أصغر */
            }
        }

        @media (max-width: 480px) {
            .download-btn {
                font-size: 1em; /* حجم أصغر للشاشات الصغيرة جدًا */
                padding: 0.8em 1.5em; /* padding أصغر */
            }
        }
    </style>
</head>
<body>

    <!-- زر ثابت في أسفل الشاشة مع خلفية بيضاء -->
    <div class="fixed-btn-container" id="fixedBtnContainer">
        <a href="#" class="download-btn" id="fixedDownloadBtn">Download App</a>
    </div>

    <!-- كود JavaScript لمعالجة التحميل وتحسين التجربة -->
    <script>
        /**
         * كود لاكتشاف نوع الجهاز
         */
        function detectDevice() {
            let userAgent = navigator.userAgent || navigator.vendor || window.opera;
            let platform = navigator.platform.toLowerCase();
            if (/android/i.test(userAgent)) {
                return "Android";
            } else if (/iPhone|iPad|iPod/i.test(userAgent) || /iOS/i.test(platform)) {
                return "iOS";
            } else {
                return "Unknown";
            }
        }

        /**
         * تنفيذ تحميل التطبيق عند الضغط على أي زر تحميل
         */
        function handleDownload(event) {
            event.preventDefault(); // منع السلوك الافتراضي للرابط

            let deviceType = detectDevice();
            let downloadLink = "";

            if (deviceType === "Android") {
                downloadLink = "https://drive.google.com/your-android-app.apk"; // رابط تحميل الأندرويد
            } else if (deviceType === "iOS") {
                downloadLink = "https://drive.google.com/your-ios-app.ipa"; // رابط تحميل iOS
            } else {
                alert("عذراً، جهازك غير مدعوم!");
                return;
            }

            // إرسال حدث التحميل إلى Google Analytics
            gtag('event', 'download', {
                'event_category': 'App Download',
                'event_label': deviceType,
                'value': 1
            });

            // بدء تحميل التطبيق
            window.location.href = downloadLink;

            // إعادة توجيه المستخدم إلى صفحة "كيفية التثبيت" بعد 3 ثوانٍ
            setTimeout(function () {
                window.location.href = "https://yourwebsite.com/how-to-install";
            }, 3000);
        }

        // ربط الأزرار بوظيفة التحميل
        document.getElementById("fixedDownloadBtn").addEventListener("click", handleDownload);

        /**
         * إظهار الزر الثابت عند التمرير لأسفل
         */
        window.addEventListener("scroll", function () {
            let fixedBtnContainer = document.getElementById("fixedBtnContainer");
            if (window.scrollY > 100) { // إظهار الزر عند التمرير لأسفل بمقدار 100px
                fixedBtnContainer.classList.add("visible");
            } else {
                fixedBtnContainer.classList.remove("visible");
            }
        });
    </script>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
