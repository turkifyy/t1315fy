<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="منصة بث رائدة للمسلسلات الحصرية - استمتع بأفضل المحتوى العربي والعالمي">
    <meta name="keywords" content="مسلسلات, بث مباشر, شاهد اونلاين, دراما, عربيتونز, ستارديما, شاهد VIP">
    <title>سيريز ماكس | منصة المسلسلات الرائدة</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #e50914;
            --primary-dark: #b20710;
            --dark: #141414;
            --darker: #0c0c0c;
            --gray: #808080;
            --light: #f5f5f5;
            --light-gray: #e0e0e0;
            --card-width: 180px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
        }
        
        body {
            background-color: var(--darker);
            color: var(--light);
            overflow-x: hidden;
            padding-top: 70px;
        }
        
        /* Header Styles */
        .navbar {
            background: linear-gradient(to bottom, rgba(0,0,0,0.9) 10%, transparent);
            padding: 10px 20px;
            z-index: 1000;
            transition: background-color 0.4s;
            height: 70px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            align-items: center;
        }
        
        .navbar.scrolled {
            background-color: var(--dark);
            box-shadow: 0 5px 15px rgba(0,0,0,0.7);
        }
        
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }
        
        .logo {
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: 900;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo i {
            animation: pulse 2s infinite;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 15px;
        }
        
        .nav-link {
            color: var(--light) !important;
            font-size: 1rem;
            font-weight: 500;
            transition: var(--transition);
            text-decoration: none;
            position: relative;
            padding: 5px 0;
        }
        
        .nav-link:hover {
            color: var(--primary) !important;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: var(--transition);
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .nav-link.active::after {
            width: 100%;
        }
        
        .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .search-container {
            position: relative;
            width: 250px;
        }
        
        .search-box {
            background: rgba(0,0,0,0.75);
            border: 1px solid var(--gray);
            padding: 10px 15px;
            border-radius: 30px;
            color: white;
            width: 100%;
            transition: var(--transition);
            font-size: 0.9rem;
        }
        
        .search-box:focus {
            width: 300px;
            background: rgba(0,0,0,0.9);
            outline: none;
            border-color: var(--primary);
        }
        
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: var(--dark);
            border: 1px solid var(--gray);
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(0,0,0,0.7);
        }
        
        .search-item {
            padding: 10px;
            border-bottom: 1px solid #333;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: var(--transition);
        }
        
        .search-item:hover {
            background: #333;
        }
        
        .search-item img {
            width: 50px;
            height: 30px;
            object-fit: cover;
            margin-left: 10px;
            border-radius: 4px;
        }
        
        .close-results {
            position: absolute;
            top: 10px;
            left: 10px;
            background: none;
            border: none;
            color: var(--light);
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        /* Netflix-style Hero Slider */
        .hero-slider {
            height: 100vh;
            position: relative;
            overflow: hidden;
            margin-bottom: 30px;
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1s ease;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        .slide::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, transparent 100%);
        }
        
        .slide-content {
            padding: 0 5%;
            width: 100%;
            max-width: 600px;
            z-index: 1;
            position: relative;
        }
        
        .slide-title {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            line-height: 1.2;
        }
        
        .slide-meta {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .slide-rating {
            color: gold;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .slide-year {
            background: rgba(255,255,255,0.2);
            padding: 3px 10px;
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        .slide-desc {
            margin-bottom: 30px;
            line-height: 1.6;
            font-size: 1.1rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }
        
        .btn-play {
            background-color: var(--primary);
            color: white;
            padding: 12px 30px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 1.2rem;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-play:hover {
            background-color: var(--primary-dark);
            transform: scale(1.05);
        }
        
        /* Series Grid */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .series-section {
            padding: 0 0 30px;
        }
        
        .section-title {
            font-size: 1.6rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--primary);
            display: inline-block;
        }
        
        .series-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(var(--card-width), 1fr));
            gap: 20px;
        }
        
        .series-card {
            background: #1a1a1a;
            border-radius: 8px;
            overflow: hidden;
            transition: var(--transition);
            position: relative;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }
        
        .series-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 15px 30px rgba(0,0,0,0.8);
            z-index: 10;
        }
        
        .series-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
        }
        
        .series-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: var(--primary);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .series-info {
            padding: 15px;
        }
        
        .series-title {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 8px;
            height: 40px;
            overflow: hidden;
        }
        
        .series-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--gray);
        }
        
        .series-rating {
            color: gold;
            display: flex;
            align-items: center;
            gap: 3px;
        }
        
        /* Player Section */
        #playerSection {
            display: none;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
        }
        
        .player-title {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .player-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            background: #000;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
            margin-bottom: 30px;
        }
        
        .player-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .btn-back {
            background: var(--dark);
            color: var(--light);
            border: 1px solid var(--gray);
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-back:hover {
            background: #222;
            border-color: var(--primary);
        }
        
        /* Recommended Section - Vertical Layout */
        .recommended-section {
            margin-top: 40px;
        }
        
        .rec-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--light);
            padding-bottom: 10px;
            border-bottom: 3px solid var(--primary);
            display: inline-block;
        }
        
        .rec-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .rec-item {
            background: #1a1a1a;
            border-radius: 8px;
            overflow: hidden;
            transition: var(--transition);
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            display: flex;
            flex-direction: column;
        }
        
        .rec-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.8);
        }
        
        .rec-item img {
            width: 100%;
            height: 140px;
            object-fit: cover;
        }
        
        .rec-info {
            padding: 15px;
            flex-grow: 1;
        }
        
        .rec-item-title {
            font-weight: 700;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }
        
        .rec-item-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 10px;
        }
        
        .rec-item-rating {
            color: gold;
            display: flex;
            align-items: center;
            gap: 3px;
        }
        
        .rec-item-desc {
            font-size: 0.9rem;
            line-height: 1.5;
            color: var(--light-gray);
            margin-top: 10px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Protection Overlay */
        .protection-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            padding: 20px;
            display: none;
        }
        
        .protection-icon {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .protection-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .protection-message {
            font-size: 1.2rem;
            max-width: 600px;
            line-height: 1.8;
            margin-bottom: 30px;
        }
        
        /* Responsive Styles */
        @media (max-width: 1200px) {
            :root {
                --card-width: 160px;
            }
            
            .series-card img {
                height: 220px;
            }
            
            .slide-title {
                font-size: 3rem;
            }
        }
        
        @media (max-width: 992px) {
            :root {
                --card-width: 140px;
            }
            
            .series-grid {
                gap: 15px;
            }
            
            .series-card img {
                height: 200px;
            }
            
            .slide-title {
                font-size: 2.5rem;
            }
            
            .slide-desc {
                font-size: 1rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
                background: none;
                border: none;
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
            }
        }
        
        @media (max-width: 768px) {
            :root {
                --card-width: 130px;
            }
            
            .hero-slider {
                height: 80vh;
            }
            
            .slide-title {
                font-size: 2rem;
            }
            
            .slide-content {
                padding: 0 20px;
                max-width: 100%;
            }
            
            .slide-desc {
                font-size: 0.9rem;
                -webkit-line-clamp: 4;
                display: -webkit-box;
                -webkit-box-orient: vertical;
                overflow: hidden;
            }
            
            .series-grid {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            }
            
            .series-card img {
                height: 180px;
            }
            
            .search-container {
                width: 180px;
            }
            
            .rec-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
        }
        
        @media (max-width: 576px) {
            :root {
                --card-width: 110px;
            }
            
            .hero-slider {
                height: 70vh;
            }
            
            .slide-title {
                font-size: 1.8rem;
            }
            
            .slide-content {
                padding: 0 15px;
            }
            
            .slide-meta {
                flex-wrap: wrap;
                gap: 8px;
            }
            
            .series-grid {
                grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
                gap: 12px;
            }
            
            .series-card img {
                height: 150px;
            }
            
            .series-info {
                padding: 10px;
            }
            
            .section-title {
                font-size: 1.4rem;
            }
            
            .navbar {
                padding: 10px 15px;
            }
            
            .search-container {
                width: 150px;
            }
            
            .search-box {
                padding: 6px 12px;
            }
            
            .logo {
                font-size: 1.5rem;
            }
            
            .rec-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .rec-item img {
                height: 100px;
            }
        }
        
        /* Smart TV Optimizations */
        @media (min-width: 1600px) {
            :root {
                --card-width: 220px;
            }
            
            .series-card img {
                height: 300px;
            }
            
            .hero-slider {
                height: 100vh;
            }
            
            .slide-title {
                font-size: 4rem;
            }
            
            .slide-desc {
                font-size: 1.2rem;
                max-width: 60%;
            }
            
            .rec-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
            
            .rec-item img {
                height: 180px;
            }
        }
        
        /* Animations */
        .fade-in {
            animation: fadeIn 1s ease forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        
        /* SEO Structured Data */
        .seo-content {
            position: absolute;
            width: 0;
            height: 0;
            overflow: hidden;
        }
        
        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            background: var(--dark);
            padding: 20px;
            transform: translateY(-100%);
            transition: transform 0.4s ease;
            z-index: 999;
            box-shadow: 0 10px 20px rgba(0,0,0,0.7);
        }
        
        .mobile-menu.active {
            transform: translateY(0);
        }
        
        .mobile-menu .nav-links {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* Loading Spinner */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 3000;
            justify-content: center;
            align-items: center;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Advanced Content Protection */
        .protection-detector {
            position: absolute;
            top: -9999px;
            left: -9999px;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }
        
        /* Footer */
        .footer {
            background: var(--dark);
            padding: 40px 20px;
            margin-top: 50px;
            border-top: 1px solid #333;
        }
        
        .footer-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }
        
        .footer-section h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.2rem;
            padding-bottom: 10px;
            border-bottom: 1px solid #333;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-link {
            color: var(--light-gray);
            padding: 8px 0;
            display: block;
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-link:hover {
            color: var(--primary);
            padding-right: 5px;
        }
        
        .footer-bottom {
            max-width: 1400px;
            margin: 30px auto 0;
            padding-top: 20px;
            border-top: 1px solid #333;
            text-align: center;
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        /* Category Badges */
        .category-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .category-badge {
            background: rgba(255,255,255,0.1);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .category-badge:hover {
            background: var(--primary);
        }
        
        /* Featured Series */
        .featured-series {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 0 20px;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--dark);
        }
        
        .featured-series::-webkit-scrollbar {
            height: 8px;
        }
        
        .featured-series::-webkit-scrollbar-track {
            background: var(--dark);
        }
        
        .featured-series::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            border-radius: 4px;
        }
        
        .featured-item {
            flex: 0 0 300px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }
        
        .featured-item img {
            width: 100%;
            height: 170px;
            object-fit: cover;
            display: block;
        }
        
        .featured-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            padding: 15px;
        }
        
        .featured-title {
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .featured-rating {
            color: gold;
            display: flex;
            align-items: center;
            gap: 3px;
        }
        
        /* View More Button */
        .view-more {
            display: block;
            margin: 20px auto 0;
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 10px 25px;
            border-radius: 30px;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            max-width: 200px;
        }
        
        .view-more:hover {
            background: var(--primary);
            color: white;
        }
    </style>
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loadingSpinner">
        <div class="spinner"></div>
    </div>

    <!-- Anti-Theft Protection Overlay -->
    <div class="protection-overlay" id="protectionOverlay">
        <div class="protection-icon">
            <i class="fas fa-shield-alt"></i>
        </div>
        <h1 class="protection-title">تم اكتشاف محاولة سرقة محتوى!</h1>
        <p class="protection-message">
            نظام الحماية الخاص بنا قد اكتشف محاولة غير مصرح بها لسرقة المحتوى. جميع محتوياتنا محمية بحقوق الطبع والنشر وتقنيات متقدمة لمنع السرقة. أي محاولة لنسخ أو توزيع المحتوى بدون إذن ستؤدي إلى إجراءات قانونية.
        </p>
        <button class="btn-play" onclick="document.getElementById('protectionOverlay').style.display='none'">
            فهمت، المتابعة للموقع
        </button>
    </div>

    <!-- Content Protection Detector -->
    <div class="protection-detector" id="protectionDetector"></div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a class="logo" href="#">
                <i class="fas fa-play-circle"></i> سيريز ماكس
            </a>
            
            <ul class="nav-links">
                <li><a class="nav-link active" href="#">الصفحة الرئيسية</a></li>
                <li><a class="nav-link" href="#">المسلسلات</a></li>
                <li><a class="nav-link" href="#">الأكثر مشاهدة</a></li>
                <li><a class="nav-link" href="#">المضاف حديثاً</a></li>
                <li><a class="nav-link" href="#">المسلسلات التركية</a></li>
                <li><a class="nav-link" href="#">المسلسلات الكورية</a></li>
            </ul>
            
            <div class="nav-actions">
                <div class="search-container">
                    <input type="text" class="search-box" id="searchInput" placeholder="ابحث عن مسلسل...">
                    <div class="search-results" id="searchResults">
                        <button class="close-results" id="closeResults">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <ul class="nav-links">
            <li><a class="nav-link active" href="#">الصفحة الرئيسية</a></li>
            <li><a class="nav-link" href="#">المسلسلات</a></li>
            <li><a class="nav-link" href="#">الأكثر مشاهدة</a></li>
            <li><a class="nav-link" href="#">المضاف حديثاً</a></li>
            <li><a class="nav-link" href="#">المسلسلات التركية</a></li>
            <li><a class="nav-link" href="#">المسلسلات الكورية</a></li>
        </ul>
    </div>

    <!-- Hero Slider - Netflix Style -->
    <div class="hero-slider" id="heroSlider">
        <!-- Slides will be generated by JavaScript -->
    </div>

    <div class="container">
        <!-- Featured Series -->
        <div class="series-section fade-in">
            <h2 class="section-title">أبرز المسلسلات</h2>
            <div class="featured-series" id="featuredSeries">
                <!-- Featured series will be generated by JS -->
            </div>
        </div>

        <!-- Popular Series Section -->
        <div class="series-section fade-in">
            <h2 class="section-title">المسلسلات الشائعة</h2>
            <div class="series-grid" id="popularSeries">
                <!-- Popular series will be generated by JS -->
            </div>
            <button class="view-more" id="viewMorePopular">عرض المزيد</button>
        </div>

        <!-- New Series Section -->
        <div class="series-section fade-in delay-1">
            <h2 class="section-title">المسلسلات الحديثة</h2>
            <div class="series-grid" id="newSeries">
                <!-- New series will be generated by JS -->
            </div>
            <button class="view-more" id="viewMoreNew">عرض المزيد</button>
        </div>
        
        <!-- Turkish Series Section -->
        <div class="series-section fade-in delay-2">
            <h2 class="section-title">المسلسلات التركية</h2>
            <div class="series-grid" id="turkishSeries">
                <!-- Turkish series will be generated by JS -->
            </div>
            <button class="view-more" id="viewMoreTurkish">عرض المزيد</button>
        </div>
        
        <!-- Categories Section -->
        <div class="series-section fade-in delay-3">
            <h2 class="section-title">التصنيفات</h2>
            <div class="category-badges" id="categoryBadges">
                <!-- Categories will be generated by JS -->
            </div>
        </div>
    </div>
    
    <!-- Video Player Section -->
    <div id="playerSection">
        <div class="player-header">
            <h2 class="player-title" id="playerTitle">العهد</h2>
            <button class="btn-back" id="backButton">
                <i class="fas fa-arrow-left"></i> العودة
            </button>
        </div>
        
        <div class="player-wrapper">
            <iframe id="videoFrame" src="" allowfullscreen></iframe>
        </div>
        
        <!-- Recommended For You Section - Vertical Layout -->
        <div class="recommended-section fade-in delay-2">
            <h2 class="rec-title">مقترحة لك</h2>
            <div class="rec-grid" id="recommendedSeries">
                <!-- Recommended items will be generated by JS -->
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>عن سيريز ماكس</h3>
                <p>منصة رائدة في عالم المسلسلات العربية والعالمية، نقدم لك أحدث وأفضل المسلسلات بجودة عالية وترجمة متقنة.</p>
            </div>
            
            <div class="footer-section">
                <h3>روابط مهمة</h3>
                <ul class="footer-links">
                    <li><a href="#" class="footer-link">المسلسلات</a></li>
                    <li><a href="#" class="footer-link">الأكثر مشاهدة</a></li>
                    <li><a href="#" class="footer-link">المضاف حديثاً</a></li>
                    <li><a href="#" class="footer-link">اتصل بنا</a></li>
                    <li><a href="#" class="footer-link">شروط الاستخدام</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>التصنيفات</h3>
                <div class="category-badges">
                    <span class="category-badge">دراما</span>
                    <span class="category-badge">أكشن</span>
                    <span class="category-badge">كوميديا</span>
                    <span class="category-badge">رومانسي</span>
                    <span class="category-badge">رعب</span>
                    <span class="category-badge">تاريخي</span>
                    <span class="category-badge">جريمة</span>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>تابعنا</h3>
                <div class="social-links">
                    <a href="#" class="footer-link"><i class="fab fa-facebook"></i> فيسبوك</a>
                    <a href="#" class="footer-link"><i class="fab fa-twitter"></i> تويتر</a>
                    <a href="#" class="footer-link"><i class="fab fa-instagram"></i> إنستغرام</a>
                    <a href="#" class="footer-link"><i class="fab fa-youtube"></i> يوتيوب</a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            &copy; 2023 سيريز ماكس. جميع الحقوق محفوظة.
        </div>
    </footer>

    <!-- SEO Structured Data (Hidden) -->
    <div class="seo-content">
        <h1>سيريز ماكس - منصة المسلسلات الرائدة</h1>
        <h2>شاهد أحدث المسلسلات العربية والعالمية حصرياً</h2>
        <p>سيريز ماكس تقدم لك أفضل تجربة لمشاهدة المسلسلات الحصرية أونلاين. استمتع بمحتوى متنوع من الدراما والكوميديا والرعب والإثارة. مسلسلات عربية، تركية، كورية وأمريكية بجودة عالية وترجمة متقنة. تصدر دائماً في نتائج البحث على Google، Bing، Stardima، Arabictoons وShahid VIP.</p>
        <p>الكلمات المفتاحية: مسلسلات اونلاين, مشاهدة مسلسلات, مسلسلات جديدة, مسلسلات عربية, مسلسلات تركية, مسلسلات كورية, دراما, ستارديما, عربيتونز, شاهد VIP, بث مباشر مسلسلات, منصة مسلسلات</p>
    </div>

    <script>
        // Enhanced series data with categories and ratings
        const seriesData = [
            // شائعة (12 مسلسل)
            { id: 1, title: "العهد", category: "تاريخي", year: "2023", rating: 9.2, popularity: 95, isNew: false, desc: "مسلسل تاريخي ضخم يجسد حقبة مهمة من تاريخ الدولة الإسلامية", country: "عربي", episodes: 30 },
            { id: 2, title: "شارع 60", category: "دراما", year: "2023", rating: 8.7, popularity: 92, isNew: false, desc: "قصة درامية مؤثرة عن سكان حي شعبي يواجهون تحديات الحياة", country: "عربي", episodes: 20 },
            { id: 3, title: "الأخوة", category: "تشويق", year: "2022", rating: 9.0, popularity: 90, isNew: false, desc: "ثلاثة أشقاء تفرقهم الظروف ليجتمعوا بعد سنوات في مواجهة مصيرية", country: "عربي", episodes: 25 },
            { id: 4, title: "الطبيب", category: "طبي", year: "2023", rating: 8.5, popularity: 88, isNew: false, desc: "قصة طبيب جراح متميز يواجه تحديات مهنية وشخصية صعبة", country: "عربي", episodes: 18 },
            { id: 5, title: "سر المدينة", category: "غموض", year: "2022", rating: 8.9, popularity: 93, isNew: false, desc: "غموض يكتنف مدينة صغيرة بعد سلسلة جرائم غريبة", country: "عربي", episodes: 22 },
            { id: 6, title: "حكايتنا", category: "رومانسي", year: "2023", rating: 8.3, popularity: 85, isNew: false, desc: "قصة حب تتحدى الظروف الاجتماعية في إطار درامي رومانسي", country: "عربي", episodes: 15 },
            { id: 7, title: "الجدار", category: "حربي", year: "2023", rating: 9.1, popularity: 94, isNew: false, desc: "رواية إنسانية مؤثرة خلال أحداث حرب طاحنة", country: "عربي", episodes: 30 },
            { id: 8, title: "الخادمة", category: "رعب", year: "2022", rating: 8.4, popularity: 87, isNew: false, desc: "عائلة تكتشف أن خادمتهم الجديدة تحمل أسراراً مرعبة", country: "عربي", episodes: 20 },
            { id: 9, title: "ملوك الصحراء", category: "أكشن", year: "2023", rating: 8.6, popularity: 89, isNew: false, desc: "صراع قبلي قديم يعود إلى السطح في صحراء الجزيرة العربية", country: "عربي", episodes: 25 },
            { id: 10, title: "عيون القلب", category: "عائلي", year: "2022", rating: 8.2, popularity: 84, isNew: false, desc: "دراما عائلية تلامس قضايا اجتماعية معاصرة", country: "عربي", episodes: 18 },
            { id: 11, title: "الهارب", category: "تشويق", year: "2023", rating: 8.8, popularity: 91, isNew: false, desc: "رجل بريء يهرب من السجن لإثبات براءته", country: "عربي", episodes: 22 },
            { id: 12, title: "أبناء العاصفة", category: "تاريخي", year: "2022", rating: 9.3, popularity: 96, isNew: false, desc: "ملحمة تاريخية عن قبيلة عربية في فترة ما قبل الإسلام", country: "عربي", episodes: 28 },
            
            // حديثة (8 مسلسل)
            { id: 13, title: "البيت الكبير", category: "دراما", year: "2023", rating: 8.7, popularity: 90, isNew: true, desc: "صراعات عائلية داخل قصر فخم تخفي وراءها أسراراً مظلمة", country: "عربي", episodes: 20 },
            { id: 14, title: "ظل الماضي", category: "غموض", year: "2023", rating: 8.5, popularity: 86, isNew: true, desc: "ماضي مظلم يعود ليطارد بطلنا في سلسلة أحداث غامضة", country: "تركي", episodes: 32 },
            { id: 15, title: "الطائر المبكر", category: "كوميدي", year: "2023", rating: 8.0, popularity: 82, isNew: true, desc: "كوميديا اجتماعية تنتقد العادات والتقاليد بفكاهة", country: "تركي", episodes: 24 },
            { id: 16, title: "قلب الأسد", category: "أكشن", year: "2023", rating: 8.9, popularity: 92, isNew: true, desc: "بطل أكشن يواجه شبكة إجرامية خطيرة لإنقاذ حبيبته", country: "تركي", episodes: 26 },
            { id: 17, title: "صيف بارد", category: "رومانسي", year: "2023", rating: 8.4, popularity: 88, isNew: true, desc: "قصة حب صيفية تتحول إلى علاقة مصيرية", country: "تركي", episodes: 18 },
            { id: 18, title: "الغرفة 707", category: "رعب", year: "2023", rating: 8.6, popularity: 89, isNew: true, desc: "فندق قديم تكتنفه أسرار مرعبة وغرفة لا يدخلها أحد", country: "تركي", episodes: 20 },
            { id: 19, title: "الوريث", category: "دراما", year: "2023", rating: 8.7, popularity: 91, isNew: true, desc: "صراع على الميراث داخل عائلة ثرية تكشف عن وجوه حقيقية", country: "تركي", episodes: 22 },
            { id: 20, title: "الضيف", category: "غموض", year: "2023", rating: 8.8, popularity: 93, isNew: true, desc: "ضيف غامض يصل إلى قرية نائية فيغير حياة سكانها", country: "تركي", episodes: 30 },
            
            // تركية (3 مسلسل)
            { id: 21, title: "أميرة الشرق", category: "تاريخي", year: "2023", rating: 9.0, popularity: 94, isNew: true, desc: "قصة أميرة عربية قوية تواجه تحديات الحكم في زمن مضطرب", country: "تركي", episodes: 28 },
            { id: 22, title: "الشارع الخلفي", category: "جريمة", year: "2023", rating: 8.3, popularity: 85, isNew: true, desc: "تحقيق في سلسلة جرائم بشارع صغير تكشف شبكة فساد", country: "تركي", episodes: 16 },
            { id: 23, title: "الرقم الصعب", category: "رياضي", year: "2023", rating: 8.5, popularity: 87, isNew: true, desc: "قصة لاعب كرة قدم موهوب يواجه تحديات داخل الملعب وخارجه", country: "تركي", episodes: 20 },
            
            // مسلسلات إضافية للتوصيات
            { id: 24, title: "أغنية القلب", category: "رومانسي", year: "2023", rating: 8.7, popularity: 90, isNew: true, desc: "قصة حب بين مغنية طموحة وملحن موهوب في عالم الفن", country: "تركي", episodes: 18 },
            { id: 25, title: "المعلم", category: "أكشن", year: "2023", rating: 8.9, popularity: 93, isNew: true, desc: "معلم فنون قتالية يحمي طلابه من عصابة إجرامية", country: "تركي", episodes: 22 },
            { id: 26, title: "المدينة المفقودة", category: "مغامرات", year: "2023", rating: 8.6, popularity: 89, isNew: true, desc: "مغامرة مثيرة للبحث عن مدينة أسطورية مفقودة", country: "تركي", episodes: 24 },
            { id: 27, title: "الظل الأسود", category: "تشويق", year: "2023", rating: 8.8, popularity: 92, isNew: true, desc: "تحقيق في جرائم غامضة ترتكب بواسطة مجهول", country: "تركي", episodes: 26 },
            { id: 28, title: "أحلام اليقظة", category: "دراما", year: "2023", rating: 8.4, popularity: 86, isNew: true, desc: "قصة شاب يحاول تحقيق أحلامه وسط تحديات الحياة", country: "تركي", episodes: 20 },
            { id: 29, title: "الطريق إلى المجد", category: "تاريخي", year: "2023", rating: 9.1, popularity: 95, isNew: true, desc: "ملحمة تاريخية عن صعود إمبراطورية عظيمة", country: "عربي", episodes: 30 },
            { id: 30, title: "أشباح الماضي", category: "رعب", year: "2023", rating: 8.3, popularity: 84, isNew: true, desc: "عائلة تنتقل لمنزل جديد ليكتشفوا أنه مسكون", country: "عربي", episodes: 18 },
            { id: 31, title: "الحب الأول", category: "رومانسي", year: "2023", rating: 8.5, popularity: 87, isNew: true, desc: "قصة حب عذري بين طالبين في الجامعة", country: "عربي", episodes: 20 },
            { id: 32, title: "الاختيار الصعب", category: "دراما", year: "2023", rating: 8.7, popularity: 90, isNew: true, desc: "دراما عائلية تعالج قضايا اجتماعية معاصرة", country: "عربي", episodes: 22 }
        ];

        // Simulate user preferences for recommendations
        const userPreferences = {
            viewed: [1, 3, 7, 12, 16],
            liked: [1, 7, 12, 21],
            favoriteCategories: ["تاريخي", "أكشن", "دراما"],
            clickedSeries: [1, 3, 7, 12, 16, 21]
        };

        // Generate stars based on rating
        function generateRatingStars(rating) {
            const stars = Math.round(rating / 2); // Convert 10-point scale to 5-star
            let starsHTML = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= stars) {
                    starsHTML += '<i class="fas fa-star"></i>';
                } else {
                    starsHTML += '<i class="far fa-star"></i>';
                }
            }
            return starsHTML;
        }

        // Generate series card
        function generateSeriesCard(series, isNew = false) {
            return `
                <div class="series-card" data-id="${series.id}">
                    ${isNew ? '<span class="series-badge">جديد</span>' : ''}
                    <img src="https://source.unsplash.com/random/300x450/?${series.title.replace(/\s/g,'')},tv,drama" alt="${series.title}" loading="lazy">
                    <div class="series-info">
                        <div class="series-title">${series.title}</div>
                        <div class="series-meta">
                            <span>${series.year}</span>
                            <span class="series-rating">${generateRatingStars(series.rating)}</span>
                        </div>
                    </div>
                </div>
            `;
        }

        // Generate featured series
        function generateFeaturedSeries() {
            const featuredSeries = [...seriesData].sort((a, b) => b.popularity - a.popularity).slice(0, 5);
            const featuredContainer = document.getElementById('featuredSeries');
            
            featuredSeries.forEach(series => {
                featuredContainer.innerHTML += `
                    <div class="featured-item" data-id="${series.id}">
                        <img src="https://source.unsplash.com/random/600x400/?${series.title.replace(/\s/g,'')},tv,drama" alt="${series.title}" loading="lazy">
                        <div class="featured-info">
                            <div class="featured-title">${series.title}</div>
                            <div class="featured-rating">${generateRatingStars(series.rating)}</div>
                        </div>
                    </div>
                `;
            });
            
            // Add event listeners to featured items
            document.querySelectorAll('.featured-item').forEach(item => {
                item.addEventListener('click', function() {
                    const seriesId = parseInt(this.getAttribute('data-id'));
                    openSeries(seriesId);
                    
                    // Track click for recommendations
                    if (!userPreferences.clickedSeries.includes(seriesId)) {
                        userPreferences.clickedSeries.push(seriesId);
                        localStorage.setItem('userPreferences', JSON.stringify(userPreferences));
                    }
                });
            });
        }

        // Generate categories
        function generateCategories() {
            const categories = [...new Set(seriesData.map(series => series.category))];
            const categoryContainer = document.getElementById('categoryBadges');
            
            categories.forEach(category => {
                categoryContainer.innerHTML += `<span class="category-badge">${category}</span>`;
            });
            
            // Add event listeners to categories
            document.querySelectorAll('.category-badge').forEach(badge => {
                badge.addEventListener('click', function() {
                    const category = this.textContent;
                    filterSeriesByCategory(category);
                });
            });
        }
        
        // Filter series by category
        function filterSeriesByCategory(category) {
            const filteredSeries = seriesData.filter(series => series.category === category);
            
            // Hide all sections
            document.querySelectorAll('.series-section').forEach(el => el.style.display = 'none');
            
            // Create filtered series container
            const filteredContainer = document.createElement('div');
            filteredContainer.className = 'series-section';
            filteredContainer.innerHTML = `
                <div class="section-header">
                    <button class="btn-back" id="backToHome">
                        <i class="fas fa-arrow-left"></i> العودة
                    </button>
                    <h2 class="section-title">مسلسلات ${category}</h2>
                </div>
                <div class="series-grid" id="filteredSeries"></div>
            `;
            
            document.querySelector('.container').appendChild(filteredContainer);
            
            // Generate filtered series
            const filteredGrid = document.getElementById('filteredSeries');
            filteredSeries.forEach(series => {
                filteredGrid.innerHTML += generateSeriesCard(series, series.isNew);
            });
            
            // Add event listeners to series cards
            document.querySelectorAll('.series-card').forEach(card => {
                card.addEventListener('click', function() {
                    const seriesId = parseInt(this.getAttribute('data-id'));
                    openSeries(seriesId);
                });
            });
            
            // Add event listener to back button
            document.getElementById('backToHome').addEventListener('click', function() {
                filteredContainer.remove();
                document.querySelectorAll('.series-section').forEach(el => el.style.display = 'block');
            });
        }

        // Generate Netflix-style slider
        function generateSlider() {
            const slider = document.getElementById('heroSlider');
            const popularSeries = [...seriesData].sort((a, b) => b.popularity - a.popularity).slice(0, 5);
            
            let slidesHTML = '';
            popularSeries.forEach((series, index) => {
                slidesHTML += `
                    <div class="slide ${index === 0 ? 'active' : ''}" style="background-image: url('https://source.unsplash.com/random/1920x1080/?${series.title.replace(/\s/g,'')},drama,movie')">
                        <div class="slide-content">
                            <h2 class="slide-title">${series.title}</h2>
                            <div class="slide-meta">
                                <div class="slide-rating">${generateRatingStars(series.rating)}</div>
                                <div class="slide-year">${series.year}</div>
                            </div>
                            <p class="slide-desc">${series.desc}</p>
                            <button class="btn-play" data-id="${series.id}">
                                <i class="fas fa-play"></i> شاهد الآن
                            </button>
                        </div>
                    </div>
                `;
            });
            
            slider.innerHTML = slidesHTML;
            
            // Set slider interval
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            let slideInterval = setInterval(nextSlide, 5000);
            
            function nextSlide() {
                slides[currentSlide].classList.remove('active');
                currentSlide = (currentSlide + 1) % slides.length;
                slides[currentSlide].classList.add('active');
            }
            
            // Pause slider on hover
            slider.addEventListener('mouseenter', () => {
                clearInterval(slideInterval);
            });
            
            slider.addEventListener('mouseleave', () => {
                slideInterval = setInterval(nextSlide, 5000);
            });
            
            // Add event listeners to play buttons
            document.querySelectorAll('.btn-play').forEach(button => {
                button.addEventListener('click', function() {
                    const seriesId = parseInt(this.getAttribute('data-id'));
                    openSeries(seriesId);
                });
            });
        }

        // Generate series grid with view more functionality
        function generateSeriesGrid() {
            // Popular Series (12 items)
            const popularSeries = [...seriesData].sort((a, b) => b.popularity - a.popularity).slice(0, 12);
            const popularGrid = document.getElementById('popularSeries');
            popularGrid.innerHTML = '';
            
            popularSeries.forEach(series => {
                popularGrid.innerHTML += generateSeriesCard(series);
            });
            
            // New Series (8 items)
            const newSeries = [...seriesData].filter(s => s.isNew).slice(0, 8);
            const newGrid = document.getElementById('newSeries');
            newGrid.innerHTML = '';
            
            newSeries.forEach(series => {
                newGrid.innerHTML += generateSeriesCard(series, true);
            });
            
            // Turkish Series (3 items)
            const turkishSeries = [...seriesData].filter(s => s.country === "تركي").slice(0, 3);
            const turkishGrid = document.getElementById('turkishSeries');
            turkishGrid.innerHTML = '';
            
            turkishSeries.forEach(series => {
                turkishGrid.innerHTML += generateSeriesCard(series);
            });
            
            // Add event listeners to series cards
            document.querySelectorAll('.series-card').forEach(card => {
                card.addEventListener('click', function() {
                    const seriesId = parseInt(this.getAttribute('data-id'));
                    openSeries(seriesId);
                    
                    // Track click for recommendations
                    if (!userPreferences.clickedSeries.includes(seriesId)) {
                        userPreferences.clickedSeries.push(seriesId);
                        localStorage.setItem('userPreferences', JSON.stringify(userPreferences));
                    }
                });
            });
            
            // View More Buttons
            document.getElementById('viewMorePopular').addEventListener('click', () => {
                showAllSeries('popular', 'المسلسلات الشائعة');
            });
            
            document.getElementById('viewMoreNew').addEventListener('click', () => {
                showAllSeries('new', 'المسلسلات الحديثة');
            });
            
            document.getElementById('viewMoreTurkish').addEventListener('click', () => {
                showAllSeries('turkish', 'المسلسلات التركية');
            });
        }

        // Show all series in a category
        function showAllSeries(type, title) {
            let allSeries = [];
            
            if (type === 'popular') {
                allSeries = [...seriesData].sort((a, b) => b.popularity - a.popularity);
            } else if (type === 'new') {
                allSeries = [...seriesData].filter(s => s.isNew);
            } else if (type === 'turkish') {
                allSeries = [...seriesData].filter(s => s.country === "تركي");
            }
            
            // Hide all sections
            document.querySelectorAll('.series-section').forEach(el => el.style.display = 'none');
            
            // Create all series container
            const allSeriesContainer = document.createElement('div');
            allSeriesContainer.className = 'series-section';
            allSeriesContainer.innerHTML = `
                <div class="section-header">
                    <button class="btn-back" id="backToHome">
                        <i class="fas fa-arrow-left"></i> العودة
                    </button>
                    <h2 class="section-title">${title}</h2>
                </div>
                <div class="series-grid" id="allSeriesGrid"></div>
            `;
            
            document.querySelector('.container').appendChild(allSeriesContainer);
            
            // Generate all series
            const allSeriesGrid = document.getElementById('allSeriesGrid');
            allSeries.forEach(series => {
                allSeriesGrid.innerHTML += generateSeriesCard(series, series.isNew);
            });
            
            // Add event listeners to series cards
            document.querySelectorAll('.series-card').forEach(card => {
                card.addEventListener('click', function() {
                    const seriesId = parseInt(this.getAttribute('data-id'));
                    openSeries(seriesId);
                });
            });
            
            // Add event listener to back button
            document.getElementById('backToHome').addEventListener('click', function() {
                allSeriesContainer.remove();
                document.querySelectorAll('.series-section').forEach(el => el.style.display = 'block');
            });
        }

        // Advanced recommendation algorithm
        function getRecommendations(currentSeriesId = null) {
            const currentSeries = currentSeriesId ? seriesData.find(s => s.id === currentSeriesId) : null;
            
            // Combine different factors for recommendations with weights
            const recommendations = [];
            const recommendationScores = {};
            
            // 1. Based on currently watching series (highest weight)
            if (currentSeries) {
                // Same category
                seriesData.filter(s => 
                    s.category === currentSeries.category && 
                    s.id !== currentSeries.id
                ).forEach(s => {
                    if (!recommendationScores[s.id]) {
                        recommendationScores[s.id] = 0;
                    }
                    recommendationScores[s.id] += 40; // High weight for same category
                });
                
                // Same country
                seriesData.filter(s => 
                    s.country === currentSeries.country && 
                    s.id !== currentSeries.id
                ).forEach(s => {
                    if (!recommendationScores[s.id]) {
                        recommendationScores[s.id] = 0;
                    }
                    recommendationScores[s.id] += 30; // Medium weight for same country
                });
            }
            
            // 2. Based on user's liked series
            userPreferences.liked.forEach(id => {
                const series = seriesData.find(s => s.id === id);
                if (series) {
                    // Find series in the same category
                    seriesData.filter(s => 
                        s.category === series.category && 
                        s.id !== series.id
                    ).forEach(s => {
                        if (!recommendationScores[s.id]) {
                            recommendationScores[s.id] = 0;
                        }
                        recommendationScores[s.id] += 25;
                    });
                }
            });
            
            // 3. Based on user's clicked series (medium weight)
            userPreferences.clickedSeries.forEach(id => {
                const series = seriesData.find(s => s.id === id);
                if (series) {
                    seriesData.filter(s => 
                        s.category === series.category && 
                        s.id !== series.id
                    ).forEach(s => {
                        if (!recommendationScores[s.id]) {
                            recommendationScores[s.id] = 0;
                        }
                        recommendationScores[s.id] += 20;
                    });
                }
            });
            
            // 4. Based on popularity (low weight)
            seriesData.forEach(s => {
                if (!recommendationScores[s.id]) {
                    recommendationScores[s.id] = 0;
                }
                recommendationScores[s.id] += s.popularity / 5;
            });
            
            // Convert scores to array and sort
            const scoredSeries = Object.keys(recommendationScores).map(id => {
                return {
                    id: parseInt(id),
                    score: recommendationScores[id]
                };
            });
            
            scoredSeries.sort((a, b) => b.score - a.score);
            
            // Get top 23 unique recommendations
            const uniqueRecs = [];
            const ids = new Set();
            
            // First add series not viewed yet
            for (const item of scoredSeries) {
                if (!userPreferences.viewed.includes(item.id)) {
                    const series = seriesData.find(s => s.id === item.id);
                    if (series) {
                        uniqueRecs.push(series);
                        ids.add(series.id);
                    }
                    if (uniqueRecs.length >= 23) break;
                }
            }
            
            // If not enough, add viewed series
            if (uniqueRecs.length < 23) {
                for (const item of scoredSeries) {
                    if (!ids.has(item.id)) {
                        const series = seriesData.find(s => s.id === item.id);
                        if (series) {
                            uniqueRecs.push(series);
                            ids.add(series.id);
                        }
                        if (uniqueRecs.length >= 23) break;
                    }
                }
            }
            
            return uniqueRecs;
        }

        // Generate recommended series
        function generateRecommendedSeries(currentSeriesId = null) {
            const recommendedSeries = getRecommendations(currentSeriesId);
            const recContainer = document.getElementById('recommendedSeries');
            recContainer.innerHTML = '';
            
            recommendedSeries.forEach(series => {
                recContainer.innerHTML += `
                    <div class="rec-item" data-id="${series.id}">
                        <img src="https://source.unsplash.com/random/300x450/?${series.title.replace(/\s/g,'')},tv" alt="${series.title}" loading="lazy">
                        <div class="rec-info">
                            <div class="rec-item-title">${series.title}</div>
                            <div class="rec-item-meta">
                                <span>${series.year}</span>
                                <span class="rec-item-rating">${generateRatingStars(series.rating)}</span>
                            </div>
                            <div class="rec-item-desc">${series.desc}</div>
                        </div>
                    </div>
                `;
            });
            
            // Add event listeners to recommended items
            document.querySelectorAll('.rec-item').forEach(item => {
                item.addEventListener('click', function() {
                    const seriesId = parseInt(this.getAttribute('data-id'));
                    openSeries(seriesId);
                    
                    // Track click for recommendations
                    if (!userPreferences.clickedSeries.includes(seriesId)) {
                        userPreferences.clickedSeries.push(seriesId);
                        localStorage.setItem('userPreferences', JSON.stringify(userPreferences));
                    }
                });
            });
        }

        // Open series player
        function openSeries(seriesId) {
            const series = seriesData.find(s => s.id === seriesId);
            if (!series) return;
            
            // Show loading spinner
            document.getElementById('loadingSpinner').style.display = 'flex';
            document.getElementById('playerTitle').textContent = series.title;
            
            setTimeout(() => {
                // Hide main content and show player section
                document.querySelector('.hero-slider').style.display = 'none';
                document.querySelectorAll('.series-section').forEach(el => el.style.display = 'none');
                document.querySelector('.container').style.display = 'none';
                document.getElementById('playerSection').style.display = 'block';
                
                // Set video (placeholder - in a real app this would be the actual video source)
                // Different iframe for each series
                let iframeSrc = '';
                if (series.country === "عربي") {
                    iframeSrc = 'https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1';
                } else if (series.country === "تركي") {
                    iframeSrc = 'https://www.youtube.com/embed/5qap5aO4i9A?autoplay=1';
                } else {
                    iframeSrc = 'https://www.youtube.com/embed/9bZkp7q19f0?autoplay=1';
                }
                
                document.getElementById('videoFrame').src = iframeSrc;
                
                // Generate recommendations based on current series
                generateRecommendedSeries(seriesId);
                
                // Hide loading spinner
                document.getElementById('loadingSpinner').style.display = 'none';
                
                // Scroll to top
                window.scrollTo(0, 0);
                
                // Add to viewed in user preferences
                if (!userPreferences.viewed.includes(seriesId)) {
                    userPreferences.viewed.push(seriesId);
                    localStorage.setItem('userPreferences', JSON.stringify(userPreferences));
                }
            }, 1000);
        }

        // Back to home
        function backToHome() {
            // Hide player section and show main content
            document.getElementById('playerSection').style.display = 'none';
            document.querySelector('.hero-slider').style.display = 'block';
            document.querySelectorAll('.series-section').forEach(el => el.style.display = 'block');
            document.querySelector('.container').style.display = 'block';
            
            // Pause video
            document.getElementById('videoFrame').src = '';
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Search functionality
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');
            const closeResults = document.getElementById('closeResults');
            
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                searchResults.innerHTML = '';
                
                if (query.length < 2) {
                    searchResults.style.display = 'none';
                    return;
                }
                
                const results = seriesData.filter(series => 
                    series.title.toLowerCase().includes(query)
                ).slice(0, 8);
                
                if (results.length > 0) {
                    results.forEach(series => {
                        searchResults.innerHTML += `
                            <div class="search-item" data-id="${series.id}">
                                <img src="https://source.unsplash.com/random/300x450/?${series.title.replace(/\s/g,'')},tv" alt="${series.title}" loading="lazy">
                                <div>${series.title} (${series.year})</div>
                            </div>
                        `;
                    });
                    searchResults.style.display = 'block';
                } else {
                    searchResults.innerHTML = '<div class="search-item">لا توجد نتائج</div>';
                    searchResults.style.display = 'block';
                }
            });
            
            // Close results
            closeResults.addEventListener('click', function(e) {
                e.stopPropagation();
                searchResults.style.display = 'none';
                searchInput.value = '';
            });
            
            // Handle click on search results
            searchResults.addEventListener('click', function(e) {
                if (e.target.classList.contains('search-item')) {
                    const seriesId = parseInt(e.target.getAttribute('data-id'));
                    openSeries(seriesId);
                    searchResults.style.display = 'none';
                } else if (e.target.parentElement.classList.contains('search-item')) {
                    const seriesId = parseInt(e.target.parentElement.getAttribute('data-id'));
                    openSeries(seriesId);
                    searchResults.style.display = 'none';
                }
            });
            
            // Hide search results when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchResults.contains(e.target) && e.target !== searchInput) {
                    searchResults.style.display = 'none';
                }
            });
        }

        // Advanced Content Protection System
        function setupContentProtection() {
            // 1. Disable right-click for images only
            document.querySelectorAll('img').forEach(img => {
                img.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    document.getElementById('protectionOverlay').style.display = 'flex';
                });
            });
            
            // 2. Detect print screen key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'PrintScreen') {
                    e.preventDefault();
                    document.getElementById('protectionOverlay').style.display = 'flex';
                }
            });
            
            // 3. Detect iframe embedding attempts
            if (window.self !== window.top) {
                document.getElementById('protectionOverlay').style.display = 'flex';
            }
            
            // 4. Detect common scraping techniques
            const detector = document.getElementById('protectionDetector');
            if (detector.offsetParent === null || 
                detector.offsetLeft === 0 || 
                detector.offsetTop === 0) {
                document.getElementById('protectionOverlay').style.display = 'flex';
            }
            
            // 5. Detect dev tools opening
            let devtools = /./;
            devtools.toString = function() {
                document.getElementById('protectionOverlay').style.display = 'flex';
                return '';
            };
            
            console.log('%c', devtools);
        }

        // Mobile menu toggle
        function setupMobileMenu() {
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.toggle('active');
            });
            
            // Close menu when clicking outside
            document.addEventListener('click', function(e) {
                if (!mobileMenu.contains(e.target) && e.target !== mobileMenuBtn) {
                    mobileMenu.classList.remove('active');
                }
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            // Load user preferences from local storage
            const savedPreferences = localStorage.getItem('userPreferences');
            if (savedPreferences) {
                Object.assign(userPreferences, JSON.parse(savedPreferences));
            }
            
            // Generate content
            generateSlider();
            generateSeriesGrid();
            generateFeaturedSeries();
            generateCategories();
            
            // Set up search
            setupSearch();
            
            // Set up content protection
            setupContentProtection();
            
            // Set up mobile menu
            setupMobileMenu();
            
            // Add event listener to back button
            document.getElementById('backButton').addEventListener('click', backToHome);
            
            // Add scroll effect to navbar
            window.addEventListener('scroll', () => {
                const navbar = document.querySelector('.navbar');
                if (window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });
        });
    </script>
</body>
</html>